{{ define "main" }}

  {{ $background := resources.Get "images/wedding/background.jpg" }}
  {{ $background := $background.Resize "x4000" }}

  {{ $mariageDotNet := resources.Get "images/wedding/mariage.net.svg" }}


  <div id="wedding" class="wedding" style="background-image: url({{ $background.Permalink }});">
    <div class="wedding-top">
      <div class="wedding-top-content-col">
        {{ .Content }}
      </div>
      <div class="wedding-top-images-col">
        {{ $image := resources.Get "images/wedding/dj-resch-photo1.jpg" }}
        {{ with $image }}
          {{ $resized := .Resize "x400" }}
          <div class="home-image-container">
            <img class="home-image styled-image wedding-photo1" src="{{ $resized.Permalink }}" alt="photo"/>
          </div>
        {{ end }}

        {{ $image := resources.Get "images/wedding/dj-resch-photo2.jpg" }}
        {{ with $image }}
          {{ $resized := .Resize "x400" }}
          <div class="home-image-container">
            <img class="home-image styled-image wedding-photo2" src="{{ $resized.Permalink }}" alt="photo"/>
          </div>
        {{ end }}
      </div>
    </div>


    <div class="tariff-cards">
      {{ $all := site.RegularPages }}
      {{ $tariffs := (slice) }}
      {{ range $all }}
        {{ if strings.HasPrefix .Path "/weddings/services/tariffs" }}
          {{ $tariffs = $tariffs | append . }}
        {{ end }}
      {{ end }}
      {{ $tariffs := sort $tariffs "Params.price" "asc"}}
      {{ range $tariffs }}
        <div class="tariff-card">
          <div class="tariff-card-icon-and-title">
            {{ $basename := path.BaseName .Path }}
          {{ $image := resources.Get (printf "images/wedding/%s.jpg" $basename) }}
          {{ with $image }}
            {{ $resized := .Resize "100x100" }}
            <div class="tariff-icon-container">

              <img class="tariff-icon" src="{{ $resized.Permalink }}" alt="0">
            </div>
          {{ end }}
          <h3>{{ .Title }}</h3>
          </div>
          <h4 class="tariff-subtitle">{{ .Params.subtitle }}</h4>
          <div class="tariff-price">{{ .Params.price }} €</div>
          <div class="tariff-content">
            {{.Content}}
          </div>
          <a href="/contact">
          <button class="tariff-button">Réserver</button>
          </a>
        </div>
      {{ end }}
    </div>

  </div>

  <script type="text/javascript">
    window.addEventListener('scroll', function() {
        var scrollPosition = window.scrollY;

        var newBackgroundPositionY = - scrollPosition * 0.5;

        document.querySelectorAll('.wedding').forEach(function(element) {
            element.style.backgroundPositionY = `${newBackgroundPositionY}px`;
        });
    });
  </script>
{{ end }}
